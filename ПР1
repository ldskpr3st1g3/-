using System;

class Program
{
    static void Main()
    {
        double memory = 0;
        while (true)
        {
            Console.WriteLine("Введите первое число");
            double num_1 = int.Parse(Console.ReadLine() ?? "");
            double num_2 = 0;

            Console.WriteLine("Введите операцию");
            string operation = Console.ReadLine() ?? "";
            switch (operation)
            {
                case "+":
                    Console.WriteLine("Введите второе число");
                    num_2 = double.Parse(Console.ReadLine() ?? "");
                    Console.WriteLine($"Сумма {num_1} и {num_2} = {num_1 + num_2}");
                    break;
                case "-":
                    Console.WriteLine("Введите второе число");
                    num_2 = double.Parse(Console.ReadLine() ?? "");
                    Console.WriteLine($"Разность {num_1} и {num_2} = {num_1 - num_2}");
                    break;
                case "*":
                    Console.WriteLine("Введите второе число");
                    num_2 = double.Parse(Console.ReadLine() ?? "");
                    Console.WriteLine($"Умножение {num_1} и {num_2} = {num_1 * num_2}");
                    break;
                case "/":
                    Console.WriteLine("Введите второе число");
                    num_2 = double.Parse(Console.ReadLine() ?? "");
                    if (num_2 == 0)
                    {
                        Console.WriteLine("Делить на ноль нельзя");

                    }
                    else
                    {
                        Console.WriteLine($"Деление {num_1} и {num_2} = {num_1 / num_2}");
                    }
                    break;
                case "%":
                    Console.WriteLine("Введите второе число");
                    num_2 = double.Parse(Console.ReadLine() ?? "");
                    Console.WriteLine($"Отсаток от деления {num_1} на {num_2} = {num_1 % num_2}");
                    break;
                case "1/x":

                    if (num_1 == 0)
                    {
                        Console.WriteLine("Делить на ноль нельзя!!");
                    }
                    else
                    {
                        Console.WriteLine($"1/{num_1} = {1 / num_1}");
                    }
                    break;
                case "X^2":
                    Console.WriteLine($"{num_1}^2 = {Math.Pow(num_1, 2)}");
                    break;
                case "V":
                    Console.WriteLine($"sqrt({num_1}) = {Math.Sqrt(num_1)}");
                    break;
                case "M+":
                    memory += num_1;
                    Console.WriteLine("Число успешно прибавлено");
                    break;
                case "M-":
                    memory -= num_1;
                    Console.WriteLine("Число успешно вычтено из памяти");
                    break;
                case "MR":
                    Console.WriteLine($"число в памяти = {memory}");
                    break;
                case "ESC":
                    return;
                default:
                    break;
            }
        }
    }
}



//1)	Функционал:
//Простой калькулятор, позволяет пользователю вписать первое значение, далее выбрать нужную ему операцию, и в зависимость от операции, ему может понадобиться добавить второе значение, либо же сразу получить ответ на свой вопрос.
//2)	Ограничения:
//Этот калькулятор не позволяет делить на ноль. Так же диапазон вычислений ограничен ограничениями типа “double” в c#, то есть: от +- 5.0^10-324 до +- 1.7^10308. А также +-15 знаков после запятой.
//3)	Возможные ошибки:
//При попытке вписать вместо чисел любые другие символы произойдет ошибка, код расчитан на то, что пользователь будет корректно вводить данные. Однако при попытке вставить необрабатываемый символ при подстановке операции, программа вернет пользователя к вводу первого числа.

